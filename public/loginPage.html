<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–§–æ—Ä–º–∞ –ª–æ–≥–∏–Ω–∞</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      font-family: Verdana, Geneva, Tahoma, sans-serif;
      background-color: #f2f2f2;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0;
    }

    .login-container {
      background-color: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      max-width: 800px;
    }

    h2 {
      text-align: center;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      display: block;
      margin-bottom: 5px;
    }

    input[type="text"],
    input[type="password"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
    }

    button {
      width: 100%;
      padding: 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color: #45a049;
    }

    .instruction {
      margin-bottom: 20px;
      padding: 10px;
      background-color: #e7f3fe;
      border-left: 5px solid #2196F3;
      font-size: 14pt;
      line-height: 1.5em;
    }

    .instruction strong {
      color: #2196F3;
    }

    #show-info {
      color: #2196F3;
      text-decoration: none;
      cursor: pointer;
      border-bottom: 1px dashed #2196F3;
    }

    #show-info:hover {
      border-bottom: 1px solid #2196F3;
    }

    #info-container {
      display: none;
      margin-bottom: 20px;
    }

    #info-container.opened {
      display: block;
      margin-bottom: 20px;
      padding-left: 8px;
      border-left: 2px dashed #2196F3;
    }

    video {
      display: block;
      width: 100%;
      margin-bottom: 20px;
      border-radius: 5px;
    }
  </style>
</head>

<body>

  <div class="login-container">
    <h2>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
    <div class="instruction">
      <p>ü§ñ –ß—Ç–æ–±—ã –±–æ—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–ª, –Ω—É–∂–Ω–æ –¥–∞—Ç—å –µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ.</p>
      <p><a id="show-info">–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</a></p>
      <div id="info-container">
        <p>–í–µ–± —Å–∞–π—Ç –¥–Ω–µ–≤–Ω–∏–∫–∞ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ–π—Ç–∏ —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ –ì–æ—Å—É—Å–ª—É–≥–∏. –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã
          –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–ª–∏—Å—å –≤ –ì–æ—Å—É—Å–ª—É–≥–∞—Ö, –≤–∞—Å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–Ω–µ–≤–Ω–∏–∫–∞. –ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —É–∂–µ –µ—Å—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
          (—Ç–æ–∫–µ–Ω—ã)
          –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–æ—Ç–∞ –∫ –≤–∞—à–µ–π —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ.</p>
        <p>–ë–æ—Ç –Ω–µ –º–æ–∂–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ —Ç–∞–∫–∏–º –∂–µ —Å–ø–æ—Å–æ–±–æ–º. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∞—Ç—å –±–æ—Ç—É –¥–æ—Å—Ç—É–ø - —ç—Ç–æ
          –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–Ω–µ–≤–Ω–∏–∫–∞. –ò–º–µ–Ω–Ω–æ –ø–æ —ç—Ç–∏–º —Ç–æ–∫–µ–Ω–∞–º –≤–µ–± —Å–∞–π—Ç –¥–Ω–µ–≤–Ω–∏–∫–∞ –ø–æ–Ω–∏–º–∞–µ—Ç –∫—Ç–æ –∑–∞—à–µ–ª –Ω–∞
          —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>
      </div>
    </div>
    <div class="instruction">
      <strong>‚öíÔ∏è –í–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è:</strong>
      <ol>
        <li>–ö–æ–º–ø—å—é—Ç–µ—Ä –∏–ª–∏ –Ω–æ—É—Ç–±—É–∫ —Å –±—Ä–∞—É–∑–µ—Ä–æ–º.</li>
        <li>5 –º–∏–Ω—É—Ç –≤—Ä–µ–º–µ–Ω–∏.</li>
      </ol>
    </div>
    <div class="instruction">
      <strong>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong>
      <p>–ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Ç–æ–∫–µ–Ω—ã, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:</p>
      <ol>
        <li>–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ, –∏—Å–ø–æ–ª—å–∑—É—è –±—Ä–∞—É–∑–µ—Ä –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.</li>
        <li>–û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–ª–∞–≤–∏—à–µ–π F12 –∏–ª–∏ –ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–¥" (inspect).</li>
        <li>–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É <strong>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</strong> (Application).</li>
        <li>–í –ª–µ–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ –≤—ã–±–µ—Ä–∏—Ç–µ <strong>–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</strong> (Local Storage) –∏ –Ω–∞–π–¥–∏—Ç–µ
          <strong>https://dnevnik.egov66.ru</strong>.
        </li>
        <li>–ß—É—Ç—å –ø—Ä–∞–≤–µ–µ –Ω–∞–π–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è <strong>Auth__token</strong> –∏ <strong>Auth__refresh</strong> –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö
          –¥–∞–Ω–Ω—ã—Ö.</li>
        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –Ω–∏–∂–µ (–º–æ–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–µ–±–µ —Ç–æ–∫–µ–Ω—ã).</li>
      </ol>
    </div>

    <div class="instruction">
      <strong>üé• –ù–∞–≥–ª—è–¥–Ω–æ–µ –ø–æ—Å–æ–±–∏–µ:</strong>
      <p>
        <video controls>
          <source src="where-tokens-are.webm" type="video/webm">
          –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–∏–¥–µ–æ.
        </video>
      </p>
    </div>

    <form id="tokensForm">
      <div class="form-group">
        <label for="accessToken">Auth__token:</label>
        <input type="password" id="accessToken" name="accessToken" required>
      </div>
      <div class="form-group">
        <label for="refreshToken">Auth__refresh:</label>
        <input type="password" id="refreshToken" name="refreshToken" required>
      </div>
      <button type="submit">–í–æ–π—Ç–∏</button>
    </form>
  </div>

  <script>
    const form = document.getElementById('tokensForm')

    form.addEventListener('submit', function (event) {
      const webApp = window.Telegram.WebApp
      const chat = window.Telegram.WebAppChat
      const user = window.Telegram.WebAppUser
      const accessToken = event.target.elements.accessToken.value
      const refreshToken = event.target.elements.refreshToken.value

      // See the field web_app_data in the class Message (https://core.telegram.org/bots/api#message)
      webApp.sendData(JSON.stringify({ accessToken, refreshToken }))

      event.target.reset()
      event.preventDefault()
    })
  </script>
  <script>
    const showInfoLink = document.getElementById('show-info')
    const infoContainer = document.getElementById('info-container')
    const openedClassName = 'opened'

    showInfoLink.addEventListener('click', function (event) {
      event.preventDefault()
      if (infoContainer.classList.contains(openedClassName)) {
        infoContainer.classList.remove(openedClassName)
        showInfoLink.textContent = '–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏'
      } else {
        infoContainer.classList.add(openedClassName)
        showInfoLink.textContent = '–°–∫—Ä—ã—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏'
      }
    })
  </script>

</body>

</html>